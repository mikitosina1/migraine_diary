/* variables comes from resources/css/app.css */
.dashboard-widget.migraine-diary {
	color: var(--main-text-color);
	min-width: 415px;
	width: 430px;

	.attacks-box {
		.active-attacks {
			ul {
				li {
					.attack-loading {
						display: inline-flex;
						gap: 2px;

						span {
							opacity: 0.2;
							animation: blink 1.5s infinite;
						}

						span:nth-child(1) {
							animation-delay: 0s;
						}

						span:nth-child(2) {
							animation-delay: 0.3s;
						}

						span:nth-child(3) {
							animation-delay: 0.6s;
						}
					}

					.end-attack-button {
						width: 40px;
						height: 28px;
						border-radius: 10px;
						padding: 0 .5em;
						color: mediumseagreen;
						border: 1px solid mediumseagreen;
					}
				}
			}
		}
	}

	.module-link {
		.to-diary {
			padding: 0 .5em;
			border: 1px solid dodgerblue;
			border-radius: 10px;
			color: dodgerblue;
		}
	}
}

.dashboard-widget.migraine-diary.minimized {
	min-width: 260px;
	width: 260px;
	height: auto;
	padding: 1rem;
}

@keyframes blink {
	0%, 80%, 100% {
		opacity: 0.2;
	}
	40% {
		opacity: 1;
	}
}

dialog {
	&[open] {
		display: flex;
		align-items: center;
		justify-content: center;
	}

	&::backdrop {
		background: rgba(0, 0, 0, 0.5);
	}

	.dialog-content {
		.slot {
			form {
				div.step {
					width: 500px;
				}
			}
		}
	}
}

.modal-content {
	max-height: 90vh;
	overflow-y: auto;
}

.cloud.migraine-diary {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 1em;
	border: 1px solid var(--block-border-color);
	border-radius: 10px;
	width: 535px;
	max-width: 535px;

	.tab-controllers-container {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		height: 100%;

		.tab-controllers {
			.tabs {
				.tab-btn {
					@apply border-b-2 border-transparent transition;
					&.active {
						@apply border-blue-500 font-semibold;
					}
				}
			}
		}
	}

	#tab-calendar {
		width: 400px;

		.calendar-day {
			transition: all 0.2s ease-in-out;
		}

		.calendar-day:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		}

		@media (max-width: 400px) {
			.calendar-grid {
				grid-template-columns: repeat(7, minmax(0, 1fr));
				gap: 0.25rem;
			}
			.calendar-day {
				min-height: 60px;
				padding: 0.5rem;
			}
		}
	}

	#tab-list {
		width: 530px;

		.list-header {
			.filter-block {
				#list-attack-range {
					padding: .5em 2em .5em .5em;
				}

				#list-pain-level {
					margin: 0 0 0 .5em;
					padding: .5em 2em .5em .5em;
				}

				#reset-filters {
					margin: 0 0 0 .5em;
					padding: .5em;
				}
			}
		}

		.list {
			.migraine-list-item {
				.statistic-header {
					.short-info {
					}
				}

				.list-item-content {
					.main-content-block {
						.content-block {

						}

						.controls {
							button {
								transition: all 0.3s ease;

								&:hover {
									transform: translateY(-1px);
								}
							}

							.delete-btn:hover {
								box-shadow: 0 0 0 5px rgba(orangered, 0.3);
							}

							.edit-btn:hover {
								box-shadow: 0 0 0 5px rgba(dodgerblue, 0.3);
							}

							.end-attack-button:hover {
								box-shadow: 0 0 0 5px rgba(mediumseagreen, 0.3);
							}

							.delete-btn {
								margin: 1em 0;
								width: 40px;
								height: 28px;
								border-radius: 10px;
								color: orangered;
								border: 1px solid orangered;
							}

							.edit-btn {
								margin: 1em 0;
								width: 40px;
								height: 28px;
								border-radius: 10px;
								color: dodgerblue;
								border: 1px solid dodgerblue;
							}

							.end-attack-button {
								margin: 1em 0;
								width: 40px;
								height: 28px;
								border-radius: 10px;
								color: mediumseagreen;
								border: 1px solid mediumseagreen;
							}
						}
					}
				}
			}
		}
	}

	#tab-statistic {
		width: 505px;

		.statistic-header {
			.filter-block {
				#statistic-attack-range {
					padding: .5em 2em .5em .5em;
				}
			}
		}
		.statistic-send {
			padding-bottom: 2.4em;

			.bordered-block-toggler, form.xml-download-form {
				position: relative;
				width: 14em;
				transform: translate(10px, 30px);
				border: 1px solid var(--block-border-color);
				border-radius: 10px;
				padding: 0.5em;
			}
			.bordered-block-toggler:hover, form.xml-download-form:hover {
				cursor: pointer;
			}
			.bordered-block {
				border: 1px solid var(--block-border-color);
				border-radius: 10px;
				padding: 1em;

				.send-email-btn {
					border: 1px solid var(--block-border-color);
					border-radius: 10px;
				}
				.send-email-btn:hover {
					cursor: pointer;
				}
			}
		}

		.css-chart {
			display: flex;
			align-items: flex-end;
			justify-content: space-between;
			height: 250px;
			padding: 20px;
			background: var(--block-background-color, #f8fafc);
			border-radius: 8px;
			gap: 8px;
			border: 1px solid var(--block-border-color);

			.chart-column {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: flex-end;
				flex: 1;
				position: relative;
				height: 100%;

				&.has-data {
					.chart-bar {
						background: linear-gradient(to top, #3b82f6, #60a5fa);
						cursor: pointer;

						&:hover {
							transform: scale(1.05);

							.chart-tooltip {
								opacity: 1;
								visibility: visible;
								transform: translateX(-50%) translateY(-5px);
							}
						}
					}
				}

				&.no-data {
					.chart-bar {
						background: #e5e7eb;
						min-height: 2px;
					}

					.chart-value {
						opacity: 0.5;
					}
				}
			}

			.chart-bar {
				width: 30px;
				background: linear-gradient(to top, #3b82f6, #60a5fa);
				border-radius: 4px 4px 0 0;
				transition: all 0.3s ease;
				cursor: pointer;
				min-height: 2px;

				&:hover {
					transform: scale(1.05);
					opacity: 0.9;
				}
			}

			.chart-tooltip {
				position: absolute;
				bottom: 100%;
				left: 50%;
				transform: translateX(-50%) translateY(-10px);
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 12px;
				border-radius: 6px;
				font-size: 12px;
				white-space: nowrap;
				opacity: 0;
				visibility: hidden;
				transition: all 0.3s ease;
				z-index: 1000;
				min-width: 200px;

				&::after {
					content: '';
					position: absolute;
					top: 100%;
					left: 50%;
					transform: translateX(-50%);
					border: 6px solid transparent;
					border-top-color: rgba(0, 0, 0, 0.9);
				}
			}

			.chart-label {
				font-size: 11px;
				margin-top: 8px;
				color: var(--main-text-color);
				text-align: center;
				white-space: nowrap;
				opacity: 0.8;
			}

			.chart-value {
				font-size: 12px;
				font-weight: bold;
				color: var(--main-text-color);
				margin-bottom: 4px;
			}
		}

		@media (max-width: 768px) {
			.css-chart {
				height: 200px;
				gap: 4px;
				padding: 10px;
				overflow-x: scroll;
			}

			.chart-bar {
				width: 20px;
			}

			.chart-label {
				font-size: 9px;
			}

			.chart-value {
				font-size: 10px;
			}
		}
	}
}
